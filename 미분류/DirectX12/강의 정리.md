# DirectX 12

Direct3D
---
- 응용 프로그램에서 GPU를 제어하고 프로그래밍하는 데 쓰이는 저수준 그래픽 API( 응용 프로그래밍 인터페이스 )

DirectX 12 가 이전 버전과 다른점
---
- CPU부담을 크게 줄이고 다중 스레드 지원을 개선하기 위해 설계를 다시함
- Dx11보다 추상화가 줄었고, 개발자가 손수 괸리해야할 사항이 늘고, 현세대 GPU 아키텍처들이 좀 더 밀접하게 반영됨
- API를 사용하기 어려워 졌지만 성능이 개선

# COM ( Component Object Model )

- DX의 프로그래밍 언어 독립성과 하위 호환성을 가능하게 하는 기술

- COM의 세부사항을 대부분 알 수 없으나 COM 객체를 가리키는 포인터를 특별한 함수를 이용해 다른 COM 인터페이스의 메서드를 이용하는 방법만 알면됨

- AddRef라는 메서드를 사용해 다른 변수를 복사해 사용하는데 이때 참조 횟수가 증가하고 Release()라는 별도의 해제 메서드를 통해 참조 횟수가 0이 되면 스마트 포인터처럼 메모리에서 해제됨

# 스왑 체인

- 2개의 프레임 버퍼를 이용해 하나의 버퍼만 사용해 프레임을 그릴때 발생하는 '화면 찢어짐'이나 '화면 깜빡임' 등을 방지하는 '더블 버퍼링' 기법을 사용한 버퍼들의 집합

- 스왑체인에서는 전면과 후면 버퍼의 모든 내용을 복사하여 넘기는 것이 아니라 전면과 후면 버퍼의 포인터를 서로 맞바꾸는 플리핑을 사용

- 프레젠팅 : 2개의 버퍼 간의 역할을 교환하여 페이지가 전환되게 하는 것

# DX12 렌더링 파이프라인
Input Aseembler stage

Vertax Shader Stage

{
Hull Shader Stage
Tessellator Stage
Domain Shader Stage
}

Geometry Shader Stage

Rasterizer Stage

Pixel Shader Stage

Output-merger Stage

# 노멀 맵핑
폴리곤의 법선 벡터의 값을 사용하여 로우 폴리곤의 그래픽 환경에서 하이 폴리곤의 입체감 및 질감을 구현하는 방법

-> 적은 폴리곤으로 입체감과 질감을 나타낼 수 있는 기법

-> 월드, 노멀 좌표계가 아닌 별도의 좌표계를 사용하는 이유?
    : 모델링이 애니메이션에 따라 움직이면서 로컬 좌표계가 계속 변하기 때문에 Tangent Space라는 별도의 좌표계를 사용

-> 파란색으로 보이는 이유?
    : 면과 접하는 N 벡터가 있는데 좌표 자체가 Tangent space로 만들어져 있고 블루 색상을 의미하는 N 벡터가 대부분 가장 크기 때문에 파랑색 모양으로 뜸

# SkyBox
배경같은 요소를 표현할때 주로 저 멀리 닿을 수 없는 공간에 있는듯 표현하는데, 이때 실 물체가 한없이 끝에있는 배경요소에 닿을 듯 있다면 혹은 그 범위를 넘어가면 발생할 문제를 해결하면서 표현하는 방법

-> 구로 덮어 표현하거나, 텍스쳐 6개를 이용한 큐브를 덮어 표현하는 방법 등이 있음
-> 강의에서는 텍스쳐를 하나씩 받아 사용하고 있기때문에 구를 사용

Rasterizer_type 설정
CULL_BACK : (기본 상태) 반시계 방향 무시
CULL_FRONT : 시계 방향 무시
CULL_NONE : 무시 없음

DEPH_STENSIL_TYPE 설정 ( 깊이 판별 설정 )
LESS : 미만이면 안그림
LESS_EQUAL,
GREATER,
GREATER_EQUAL

Translation은 하지않고 Rotation만 적용
Shader->
    float4 viewPos = mul(float4(input.localPos, 0), g_matView);

좌표와 깊이를 모두 조작해 항상 같은 그림이 나오도록 조정하는게 포인트